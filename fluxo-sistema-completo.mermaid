graph TD
    A[Início] --> B{Tipo de Usuário}
    B -->|Empresa| C[Cadastro Empresa]
    B -->|ONG| D[Cadastro ONG]
    
    %% Fluxo da Empresa
    C --> E[Configurar Perfil]
    E --> F[Definir Horários]
    F --> G[Cadastrar Usuários]
    
    G --> H[Área da Empresa]
    H --> I[Cadastrar Produtos]
    H --> J[Criar Eventos]
    H --> K[Gerenciar Entregas]
    
    I --> L[Escolher Categoria]
    L --> M[Produto Disponível]
    
    %% Fluxo da ONG
    D --> N[Configurar Perfil ONG]
    N --> O[Definir Horários]
    O --> P[Cadastrar Voluntários]
    
    P --> Q[Área da ONG]
    Q --> R[Buscar Produtos]
    Q --> S[Participar Eventos]
    Q --> T[Gerenciar Watchlist]
    
    %% Interação com Produtos
    R --> U[Filtrar por Categoria]
    U --> V[Visualizar Produtos]
    V --> W[Favoritar]
    V --> X[Solicitar Doação]
    
    %% Sistema de Chat
    X --> Y[Iniciar Chat]
    Y --> Z[Negociar Detalhes]
    
    %% Sistema de Entrega
    Z --> AA{Definir Entrega}
    AA -->|Retirada| AB[Agendar Retirada]
    AA -->|Delivery| AC[Agendar Entrega]
    
    %% Confirmação
    AB --> AD[Confirmar Horário]
    AC --> AD
    
    %% Finalização
    AD --> AE{Entrega Realizada?}
    AE -->|Sim| AF[Doação Concluída]
    AE -->|Não| AG[Registrar Cancelamento]
    AG --> AH[Motivo Cancelamento]
    
    %% Monitoramento
    AF --> AI[Atualizar Watchlist]
    AF --> AJ[Histórico de Doações]
    
    %% Subprocessos
    J --> AK[Definir Data/Hora]
    J --> AL[Adicionar Detalhes]
    
    T --> AM[Monitorar Produtos]
    T --> AN[Receber Notificações]
    
    style A fill:#f9f,stroke:#333,stroke-width:2px
    style AF fill:#9f9,stroke:#333,stroke-width:2px
    style AG fill:#ff9,stroke:#333,stroke-width:2px
